# Folder Structure Guide

## Complete Directory Tree

```
sambad/                                  Root directory
│
├── electron/                            Electron processes
│   ├── main/                           Main process (Node.js)
│   │   ├── index.ts                   Entry point & IPC handlers
│   │   └── supabase.ts                Database integration
│   │
│   ├── preload/                        Preload script
│   │   └── index.ts                   contextBridge API
│   │
│   └── worker/                         Worker threads
│       └── (place worker scripts here)
│
├── src/                                Source code
│   └── renderer/                       React application
│       ├── types/                      TypeScript definitions
│       │   └── electron.d.ts          Electron API types
│       ├── index.html                 HTML entry point
│       ├── index.tsx                  React entry point
│       └── App.tsx                    Main React component
│
├── assets/                             Application resources
│   ├── icon.icns                      macOS icon (512x512)
│   ├── icon.ico                       Windows icon (256x256)
│   └── icon.png                       Linux icon (512x512)
│
├── dist/                               Build output (generated)
│   ├── electron/                      Compiled Electron code
│   │   ├── main/                     Compiled main process
│   │   └── preload/                  Compiled preload script
│   └── renderer/                      Built React app
│
├── release/                            Packaged applications (generated)
│   ├── Sambad-1.0.0.dmg              macOS installer
│   ├── Sambad-Setup-1.0.0.exe        Windows installer
│   └── Sambad-1.0.0.AppImage         Linux installer
│
├── node_modules/                       Dependencies (generated)
│
├── package.json                        Project configuration
├── package-lock.json                   Dependency lock file (generated)
│
├── vite.renderer.config.ts            Vite configuration
│
├── tsconfig.json                       Base TypeScript config
├── tsconfig.main.json                  Main process config
├── tsconfig.preload.json              Preload script config
├── tsconfig.renderer.json             Renderer config
├── tsconfig.node.json                 Node.js config
│
├── .env                                Environment variables (create from .env.example)
├── .env.example                        Environment template
│
├── .gitignore                          Git ignore rules
│
├── PRODUCTION_ELECTRON_README.md       Complete documentation
├── SETUP_GUIDE.md                      Quick setup guide
└── FOLDER_STRUCTURE_GUIDE.md          This file
```

## Directory Explanations

### `/electron/main/`
**Purpose:** Main Electron process running in Node.js

**Contains:**
- `index.ts` - Application lifecycle, window management, IPC handlers
- `supabase.ts` - Database operations and API calls

**Runs in:** Node.js environment with full system access

### `/electron/preload/`
**Purpose:** Bridge between main and renderer processes

**Contains:**
- `index.ts` - contextBridge API exposing safe methods to renderer

**Runs in:** Isolated context with access to limited Node.js APIs

**Security:** Only exposes explicitly defined methods

### `/electron/worker/`
**Purpose:** Background processing and heavy computations

**Future use:**
- WhatsApp automation
- Message queue processing
- Data parsing
- Scheduled tasks

### `/src/renderer/`
**Purpose:** React application (UI)

**Contains:**
- `index.html` - HTML template
- `index.tsx` - React initialization
- `App.tsx` - Main component with Material UI
- `types/` - TypeScript definitions

**Runs in:** Chromium renderer (browser-like environment)

**Security:** No direct Node.js access, uses IPC for system operations

### `/assets/`
**Purpose:** Application icons and resources

**Required for build:**
- macOS: `icon.icns` (512x512 px)
- Windows: `icon.ico` (256x256 px)
- Linux: `icon.png` (512x512 px)

**Generate icons:** Use tools like `electron-icon-builder` or online converters

### `/dist/`
**Purpose:** Compiled code (development & production)

**Generated by:**
- `npm run build:electron` - Compiles TypeScript
- `npm run build:renderer` - Builds React app

**Do not commit** - Add to `.gitignore`

### `/release/`
**Purpose:** Final packaged applications

**Generated by:**
- `npm run build` - Creates installers

**Contains:**
- Platform-specific installers
- Portable executables
- Build metadata

**Do not commit** - Add to `.gitignore`

## Configuration Files

### `package.json`
- Project metadata
- Dependencies
- Scripts
- electron-builder configuration

### `vite.renderer.config.ts`
- Vite build configuration
- React plugin setup
- Dev server settings

### `tsconfig.*.json`
- TypeScript compiler options
- Path aliases
- Module resolution
- Target environments

### `.env`
- Environment variables
- Supabase credentials
- API keys
- Development flags

## File Extensions

| Extension | Description |
|-----------|-------------|
| `.ts` | TypeScript source files |
| `.tsx` | TypeScript + JSX (React components) |
| `.js` | Compiled JavaScript (in dist/) |
| `.d.ts` | TypeScript type definitions |
| `.json` | Configuration files |

## Build Outputs

### Development Build
```
dist/
├── electron/
│   ├── main/index.js          # Compiled from electron/main/index.ts
│   └── preload/index.js       # Compiled from electron/preload/index.ts
└── renderer/
    ├── index.html
    ├── assets/
    └── *.js (bundled React app)
```

### Production Build
```
release/
├── mac/
│   ├── Sambad.app
│   └── Sambad-1.0.0.dmg
├── win/
│   ├── Sambad-Setup-1.0.0.exe
│   └── Sambad-1.0.0.exe
└── linux/
    ├── Sambad-1.0.0.AppImage
    └── sambad_1.0.0_amd64.deb
```

## Adding New Files

### New React Component
**Location:** `src/renderer/components/MyComponent.tsx`

```typescript
import { Box, Typography } from '@mui/material';

export function MyComponent() {
  return (
    <Box>
      <Typography variant="h5">Hello</Typography>
    </Box>
  );
}
```

### New IPC Handler
**Location:** `electron/main/handlers/myHandler.ts`

```typescript
import { ipcMain } from 'electron';

export function registerMyHandlers() {
  ipcMain.handle('my:action', async (event, data) => {
    // Implementation
    return { success: true };
  });
}
```

Import in `electron/main/index.ts`:
```typescript
import { registerMyHandlers } from './handlers/myHandler';
registerMyHandlers();
```

### New Worker
**Location:** `electron/worker/myWorker.ts`

```typescript
import { parentPort } from 'worker_threads';

parentPort?.on('message', (data) => {
  // Process data
  parentPort?.postMessage({ result: 'done' });
});
```

## Best Practices

### Organization
- Keep files focused and single-purpose
- Group related functionality
- Use meaningful names
- Create subdirectories as needed

### Naming Conventions
- Components: `PascalCase.tsx`
- Utilities: `camelCase.ts`
- Constants: `UPPER_SNAKE_CASE.ts`
- Types: `types.ts` or `MyType.d.ts`

### Module Structure
```typescript
// Imports
import { ... } from '...';

// Types
export type MyType = { ... };

// Constants
const MY_CONSTANT = '...';

// Functions
export function myFunction() { ... }

// Default export
export default MyComponent;
```

## Cleaning Build Artifacts

```bash
# Clean all generated files
rm -rf dist release node_modules

# Reinstall and rebuild
npm install
npm run build
```

## Ignore Patterns

Add to `.gitignore`:
```
node_modules
dist
release
*.log
.env
.DS_Store
```

## Summary

| Directory | Purpose | Commit |
|-----------|---------|--------|
| `electron/` | Electron source | ✅ Yes |
| `src/` | React source | ✅ Yes |
| `assets/` | Icons/resources | ✅ Yes |
| `dist/` | Build output | ❌ No |
| `release/` | Packaged apps | ❌ No |
| `node_modules/` | Dependencies | ❌ No |

**Remember:** Only commit source code, not generated files!
